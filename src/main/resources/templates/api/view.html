<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Data-Hub</title>

    <th:block th:replace="fragments/head :: head"/>
    <style>
        th, td {
            white-space: nowrap;
        }
    </style>
</head>

<body>
<div th:replace="fragments/header.html :: fragment-header (user=${user})"></div>
<div class="container">
    <div class="row">
        <div class="col-12 col-md-10 mx-auto">
            <!-- API-view-page-big-title -->
            <h2>API 상세 조회</h2>

            <!-- API-view-result-title -->
            <div class="col-12 mt-3 fs-5">
                <span class="px-2 bg-primary text-white">API</span>
                <span class="px-2 bg-success text-white">JSON</span>
                <span th:text="${api_detail.getName()}"></span>
            </div>

            <!-- API-view-API-result-info -->
            <div class="row mt-2 mx-auto">
                <div class="col-4 col-md-2 py-3 bg-light border-white d-flex justify-content-center fw-bold">
                    분류
                </div>
                <div class="col-8 col-md-4 py-3 border-top border-bottom">
                    <span th:text="${api_detail.getCategory1st().getText()}"></span>
                    <span> > </span>
                    <span th:text="${api_detail.getCategory2nd().getText()}"></span>
                </div>
                <div class="col-4 col-md-2 py-3 bg-light border-white border-top d-flex justify-content-center fw-bold">
                    제공기관
                </div>
                <div class="col-8 col-md-4 py-3 border-bottom"
                     th:text="${api_detail.getOrganization()}"></div>
            </div>
            <div class="row mx-auto">
                <div class="col-4 col-md-2 py-3 bg-light border-top border-white d-flex justify-content-center fw-bold">
                    등록일
                </div>
                <div class="col-8 col-md-4 py-3 border-bottom"
                     th:text="${#temporals.format(api_detail.getPublish_at(), 'yyyy-MM-dd')}">2021-04-28
                </div>
                <div class="col-4 col-md-2 py-3 bg-light border-top border-white d-flex justify-content-center fw-bold">
                    갱신일
                </div>
                <div class="col-8 col-md-4 py-3 border-bottom"
                     th:text="${#temporals.format(api_detail.getLast_edit(), 'yyyy-MM-dd')}">2021-04-28
                </div>
            </div>
            <div class="row mx-auto">
                <div class="col-4 col-md-2 py-3 bg-light border-top border-white d-flex justify-content-center fw-bold">
                    설명
                </div>
                <div class="col-8 col-md-10 py-3 border-bottom" th:text="${api_detail.getApiDesc()}"></div>
            </div>
            <div class="row mx-auto">
                <div class="col-4 col-md-2 py-3 bg-light border-top border-white d-flex justify-content-center fw-bold">
                    서비스 요청 URL
                </div>
                <a class="col-8 col-md-10 py-3 border-bottom" target="_blank"
                   th:href="'https://api.dataportal.kr/api/v2' + ${api_detail.getPath()}"
                   th:text="'https://api.dataportal.kr/api/v2' + ${api_detail.getPath()}"></a>
            </div>

            <!-- API-view-API-dfunc/Use-use_case tab -->
            <ul class="nav nav-tabs mt-3">
                <li class="nav-item">
                    <button class="nav-link active" id="dfunc-tab" data-bs-toggle="tab" data-bs-target="#dfunc"
                            aria-controls="dfunc" aria-selected="true">API 정보
                    </button>
                </li>
                <li class="nav-item">
                    <button class="nav-link" id="use_case-tab" data-bs-toggle="tab" data-bs-target="#use_case"
                            aria-controls="use_case" aria-selected="false">활용사례
                    </button>
                </li>
            </ul>
            <div class="tab-content">
                <!-- tab(dfunc) -->
                <div class="tab-pane fade show active border border-top-0 p-2" id="dfunc" aria-labelledby="dfunc-tab">
                    <h4>요청변수</h4>
                    <div class="table-responsive">
                        <table class="table table-bordered mb-0">
                            <thead>
                            <tr class="text-center bg-light">
                                <th class="col-2">항목명(영문)</th>
                                <th class="col-2">항목명(국문)</th>
                                <th class="col-1">항목구분</th>
                                <th class="col-1">항목기본값</th>
                                <th class="col-6">항목설명</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>serviceKey</td>
                                <td>서비스 키</td>
                                <td class="text-center">필수</td>
                                <td class="text-center">-</td>
                                <td>-----TEST-----</td>
                            </tr>
                            <tr>
                                <td>page</td>
                                <td>조회 대상 페이지</td>
                                <td class="text-center">옵션</td>
                                <td class="text-center">1</td>
                                <td>-----TEST-----</td>
                            </tr>
                            <tr>
                                <td>itemPerPage</td>
                                <td>페이지 당 조회 건수</td>
                                <td class="text-center">옵션</td>
                                <td class="text-center">10</td>
                                <td>-----TEST-----</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                    <h4 class="mt-3">응답변수</h4>
                    <div class="table-responsive">
                        <table class="table table-bordered mb-0">
                            <thead>
                            <tr class="bg-light text-center">
                                <th class="col-2">항목명(영문)</th>
                                <th class="col-2">항목명(국문)</th>
                                <th class="col-1">항목타입</th>
                                <th class="col-1">항목길이</th>
                                <th class="col-1">널허용</th>
                                <th class="col-5">항목설명</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr th:each="ds : ${api_dataset_column_desc}">
                                <td th:text="${ds.getColumnEn()}"></td>
                                <td th:text="${ds.getColumnKr()}"></td>
                                <td class="text-center" th:text="${ds.getColumnType()}"></td>
                                <td class="text-center" th:text="${ds.getColumnLength()}"></td>
                                <td class="text-center" th:text="${ds.getNullable()}"></td>
                                <td th:text="${ds.getColumnDesc()}"></td>
                            </tr>
                            </tbody>
                        </table>
                    </div>

                </div>
                <!-- tab(use_case) -->
                <div class="tab-pane fade border border-top-0 p-2" id="use_case" role="tabpanel"
                     aria-labelledby="use_case-tab">
                    <div class="table-responsive">
                        <table class="table table-bordered table-hover">
                            <thead>
                            <tr class="bg-light text-center">
                                <th class="col-1">No.</th>
                                <th class="col-1">분류</th>
                                <th class="col-3">내용</th>
                                <th class="col-2">작성자</th>
                                <th class="col-2">등록일</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td class="text-center">1</td>
                                <td class="text-center">ㅇㄴㄹ</td>
                                <td>adfggsfdsfsdfsdㄴㅇㄹㄴㅇㄹㄴㅇㄹㄴㅇㄹ</td>
                                <td class="text-center">ㄴㅇㄹ</td>
                                <td class="text-center">2021.04.30</td>
                            </tr>
                            <tr>
                                <td class="text-center">2</td>
                                <td class="text-center">ㄴㅇㄹ</td>
                                <td>adfggsfdsfsdfsdㄴㅇㄹㄴㅇㄹㄴㅇㄹㄴㅇㄹ</td>
                                <td class="text-center">ㅇㄴㄹ</td>
                                <td class="text-center">2021.04.30</td>
                            </tr>
                            <tr>
                                <td class="text-center">3</td>
                                <td class="text-center">ㅇㄴㅇ</td>
                                <td>adfggsfdsfsdfsdㄴㅇㄹㄴㅇㄹㄴㅇㄹㄴㅇㄹ</td>
                                <td class="text-center">ㅇㄴㅇ</td>
                                <td class="text-center">2021.04.30</td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- API-view-API-backbutt -->
            <div class="d-flex justify-content-center mt-2 text-light">
                <button type="button" class="btn btn-success mx-2"><a href="#">활용신청</a></button>
                <button type="button" class="btn btn-primary">목록</button>
            </div>

        </div>
    </div>
</div>
</body>

</html>